/* esm.sh - axios@1.8.4/lib/helpers/progressEventReducer */
function w(e,s){e=e||10;let d=new Array(e),l=new Array(e),o=0,t=0,n;return s=s!==void 0?s:1e3,function(c){let r=Date.now(),a=l[t];n||(n=r),d[o]=c,l[o]=r;let i=t,f=0;for(;i!==o;)f+=d[i++],i=i%e;if(o=(o+1)%e,o===t&&(t=(t+1)%e),r-n<s)return;let p=a&&r-a;return p?Math.round(f*1e3/p):void 0}}var h=w;function y(e,s){let d=0,l=1e3/s,o,t,n=(r,a=Date.now())=>{d=a,o=null,t&&(clearTimeout(t),t=null),e.apply(null,r)};return[(...r)=>{let a=Date.now(),i=a-d;i>=l?n(r,a):(o=r,t||(t=setTimeout(()=>{t=null,n(o)},l-i)))},()=>o&&n(o)]}var m=y;import g from"../../unsafe/utils.mjs";var T=(e,s,d=3)=>{let l=0,o=h(50,250);return m(t=>{let n=t.loaded,u=t.lengthComputable?t.total:void 0,c=n-l,r=o(c),a=n<=u;l=n;let i={loaded:n,total:u,progress:u?n/u:void 0,bytes:c,rate:r||void 0,estimated:r&&u&&a?(u-n)/r:void 0,event:t,lengthComputable:u!=null,[s?"download":"upload"]:!0};e(i)},d)},E=(e,s)=>{let d=e!=null;return[l=>s[0]({lengthComputable:d,total:e,loaded:l}),s[1]]},R=e=>(...s)=>g.asap(()=>e(...s));export{R as asyncDecorator,E as progressEventDecorator,T as progressEventReducer};

import "https://deno.land/x/xhr@0.3.0/mod.ts";//# sourceMappingURL=progressEventReducer.mjs.map