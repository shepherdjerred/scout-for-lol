/* esm.sh - axios@1.8.4 */
import ie from"./unsafe/utils.mjs";import ct from"./lib/helpers/bind.mjs";import _ from"./unsafe/utils.mjs";import st from"./unsafe/helpers/buildURL.mjs";import Fe from"./unsafe/utils.mjs";var V=class{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Fe.forEach(this.handlers,function(o){o!==null&&e(o)})}},W=V;import Ie from"./unsafe/utils.mjs";import h from"./unsafe/utils.mjs";import ce from"./lib/core/AxiosError.mjs";import Ue from"./lib/defaults/transitional.mjs";import je from"./lib/helpers/toFormData.mjs";import qe from"./unsafe/utils.mjs";import _e from"./lib/helpers/toFormData.mjs";import ue from"./lib/platform/index.mjs";function K(t,e){return _e(t,new ue.classes.URLSearchParams,Object.assign({visitor:function(r,o,s,n){return ue.isNode&&qe.isBuffer(r)?(this.append(o,r.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}import fe from"./lib/platform/index.mjs";import A from"./unsafe/utils.mjs";function Le(t){return A.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ke(t){let e={},r=Object.keys(t),o,s=r.length,n;for(o=0;o<s;o++)n=r[o],e[n]=t[n];return e}function De(t){function e(r,o,s,n){let i=r[n++];if(i==="__proto__")return!0;let a=Number.isFinite(+i),u=n>=r.length;return i=!i&&A.isArray(s)?s.length:i,u?(A.hasOwnProp(s,i)?s[i]=[s[i],o]:s[i]=o,!a):((!s[i]||!A.isObject(s[i]))&&(s[i]=[]),e(r,o,s[i],n)&&A.isArray(s[i])&&(s[i]=ke(s[i])),!a)}if(A.isFormData(t)&&A.isFunction(t.entries)){let r={};return A.forEachEntry(t,(o,s)=>{e(Le(o),s,r,0)}),r}return null}var U=De;function ve(t,e,r){if(h.isString(t))try{return(e||JSON.parse)(t),h.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}var $={transitional:Ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let o=r.getContentType()||"",s=o.indexOf("application/json")>-1,n=h.isObject(e);if(n&&h.isHTMLForm(e)&&(e=new FormData(e)),h.isFormData(e))return s?JSON.stringify(U(e)):e;if(h.isArrayBuffer(e)||h.isBuffer(e)||h.isStream(e)||h.isFile(e)||h.isBlob(e)||h.isReadableStream(e))return e;if(h.isArrayBufferView(e))return e.buffer;if(h.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(n){if(o.indexOf("application/x-www-form-urlencoded")>-1)return K(e,this.formSerializer).toString();if((a=h.isFileList(e))||o.indexOf("multipart/form-data")>-1){let u=this.env&&this.env.FormData;return je(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return n||s?(r.setContentType("application/json",!1),ve(e)):e}],transformResponse:[function(e){let r=this.transitional||$.transitional,o=r&&r.forcedJSONParsing,s=this.responseType==="json";if(h.isResponse(e)||h.isReadableStream(e))return e;if(e&&h.isString(e)&&(o&&!this.responseType||s)){let i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?ce.from(a,ce.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],t=>{$.headers[t]={}});var C=$;import Be from"./lib/core/AxiosHeaders.mjs";function P(t,e){let r=this||C,o=e||r,s=Be.from(o.headers),n=o.data;return Ie.forEach(t,function(a){n=a.call(r,n,s.normalize(),e?e.status:void 0)}),s.normalize(),n}function g(t){return!!(t&&t.__CANCEL__)}import ot from"./lib/cancel/CanceledError.mjs";import ee from"./lib/core/AxiosHeaders.mjs";import Y from"./unsafe/utils.mjs";import et from"./lib/adapters/http.mjs";import tt from"./lib/adapters/xhr.mjs";import be from"./lib/platform/index.mjs";import y from"./unsafe/utils.mjs";import F from"./lib/core/AxiosError.mjs";import He from"./lib/cancel/CanceledError.mjs";import X from"./lib/core/AxiosError.mjs";import Je from"./unsafe/utils.mjs";var Me=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let o=new AbortController,s,n=function(l){if(!s){s=!0,a();let c=l instanceof Error?l:this.reason;o.abort(c instanceof X?c:new He(c instanceof Error?c.message:c))}},i=e&&setTimeout(()=>{i=null,n(new X(`timeout ${e} of ms exceeded`,X.ETIMEDOUT))},e),a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(n):l.removeEventListener("abort",n)}),t=null)};t.forEach(l=>l.addEventListener("abort",n));let{signal:u}=o;return u.unsubscribe=()=>Je.asap(a),u}},pe=Me;var ze=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let o=0,s;for(;o<r;)s=o+e,yield t.slice(o,s),o=s},Ve=async function*(t,e){for await(let r of We(t))yield*ze(r,e)},We=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:o}=await e.read();if(r)break;yield o}}finally{await e.cancel()}},G=(t,e,r,o)=>{let s=Ve(t,e),n=0,i,a=u=>{i||(i=!0,o&&o(u))};return new ReadableStream({async pull(u){try{let{done:l,value:c}=await s.next();if(l){a(),u.close();return}let m=c.byteLength;if(r){let b=n+=m;r(b)}u.enqueue(new Uint8Array(c))}catch(l){throw a(l),l}},cancel(u){return a(u),s.return()}},{highWaterMark:2})};import Ke from"./lib/core/AxiosHeaders.mjs";import{progressEventReducer as me,progressEventDecorator as de,asyncDecorator as he}from"./lib/helpers/progressEventReducer.mjs";import $e from"./lib/helpers/resolveConfig.mjs";import Xe from"./unsafe/core/settle.mjs";var v=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",we=v&&typeof ReadableStream=="function",Ge=v&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Re=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Ze=we&&Re(()=>{let t=!1,e=new Request(be.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ye=64*1024,Z=we&&Re(()=>y.isReadableStream(new Response("").body)),j={stream:Z&&(t=>t.body)};v&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!j[e]&&(j[e]=y.isFunction(t[e])?r=>r[e]():(r,o)=>{throw new F(`Response type '${e}' is not supported`,F.ERR_NOT_SUPPORT,o)})})})(new Response);var Qe=async t=>{if(t==null)return 0;if(y.isBlob(t))return t.size;if(y.isSpecCompliantForm(t))return(await new Request(be.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(y.isArrayBufferView(t)||y.isArrayBuffer(t))return t.byteLength;if(y.isURLSearchParams(t)&&(t=t+""),y.isString(t))return(await Ge(t)).byteLength},Ye=async(t,e)=>{let r=y.toFiniteNumber(t.getContentLength());return r??Qe(e)},Ee=v&&(async t=>{let{url:e,method:r,data:o,signal:s,cancelToken:n,timeout:i,onDownloadProgress:a,onUploadProgress:u,responseType:l,headers:c,withCredentials:m="same-origin",fetchOptions:b}=$e(t);l=l?(l+"").toLowerCase():"text";let E=pe([s,n&&n.toAbortSignal()],i),f,d=E&&E.unsubscribe&&(()=>{E.unsubscribe()}),k;try{if(u&&Ze&&r!=="get"&&r!=="head"&&(k=await Ye(c,o))!==0){let x=new Request(e,{method:"POST",body:o,duplex:"half"}),O;if(y.isFormData(o)&&(O=x.headers.get("content-type"))&&c.setContentType(O),x.body){let[z,D]=de(k,me(he(u)));o=G(x.body,ye,z,D)}}y.isString(m)||(m=m?"include":"omit");let w="credentials"in Request.prototype;f=new Request(e,{...b,signal:E,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:o,duplex:"half",credentials:w?m:void 0});let S=await fetch(f),ae=Z&&(l==="stream"||l==="response");if(Z&&(a||ae&&d)){let x={};["status","statusText","headers"].forEach(le=>{x[le]=S[le]});let O=y.toFiniteNumber(S.headers.get("content-length")),[z,D]=a&&de(O,me(he(a),!0))||[];S=new Response(G(S.body,ye,z,()=>{D&&D(),d&&d()}),x)}l=l||"text";let ge=await j[y.findKey(j,l)||"text"](S,t);return!ae&&d&&d(),await new Promise((x,O)=>{Xe(x,O,{data:ge,headers:Ke.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:f})})}catch(w){throw d&&d(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new F("Network Error",F.ERR_NETWORK,t,f),{cause:w.cause||w}):F.from(w,w&&w.code,t,f)}});import Se from"./lib/core/AxiosError.mjs";var Q={http:et,xhr:tt,fetch:Ee};Y.forEach(Q,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var xe=t=>`- ${t}`,rt=t=>Y.isFunction(t)||t===null||t===!1,I={getAdapter:t=>{t=Y.isArray(t)?t:[t];let{length:e}=t,r,o,s={};for(let n=0;n<e;n++){r=t[n];let i;if(o=r,!rt(r)&&(o=Q[(i=String(r)).toLowerCase()],o===void 0))throw new Se(`Unknown adapter '${i}'`);if(o)break;s[i||"#"+n]=o}if(!o){let n=Object.entries(s).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build")),i=e?n.length>1?`since :
`+n.map(xe).join(`
`):" "+xe(n[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return o},adapters:Q};function te(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ot(null,t)}function B(t){return te(t),t.headers=ee.from(t.headers),t.data=P.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),I.getAdapter(t.adapter||C.adapter)(t).then(function(o){return te(t),o.data=P.call(t,t.transformResponse,o),o.headers=ee.from(o.headers),o},function(o){return g(o)||(te(t),o&&o.response&&(o.response.data=P.call(t,t.transformResponse,o.response),o.response.headers=ee.from(o.response.headers))),Promise.reject(o)})}import M from"./lib/core/mergeConfig.mjs";import it from"./unsafe/core/buildFullPath.mjs";var H="1.8.4";import T from"./lib/core/AxiosError.mjs";var J={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{J[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});var Ae={};J.transitional=function(e,r,o){function s(n,i){return"[Axios v"+H+"] Transitional option '"+n+"'"+i+(o?". "+o:"")}return(n,i,a)=>{if(e===!1)throw new T(s(i," has been removed"+(r?" in "+r:"")),T.ERR_DEPRECATED);return r&&!Ae[i]&&(Ae[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(n,i,a):!0}};J.spelling=function(e){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function nt(t,e,r){if(typeof t!="object")throw new T("options must be an object",T.ERR_BAD_OPTION_VALUE);let o=Object.keys(t),s=o.length;for(;s-- >0;){let n=o[s],i=e[n];if(i){let a=t[n],u=a===void 0||i(a,n,t);if(u!==!0)throw new T("option "+n+" must be "+u,T.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new T("Unknown option "+n,T.ERR_BAD_OPTION)}}var q={assertOptions:nt,validators:J};import at from"./lib/core/AxiosHeaders.mjs";var R=q.validators,N=class{constructor(e){this.defaults=e,this.interceptors={request:new W,response:new W}}async request(e,r){try{return await this._request(e,r)}catch(o){if(o instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;let n=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?n&&!String(o.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+n):o.stack=n}catch{}}throw o}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=M(this.defaults,r);let{transitional:o,paramsSerializer:s,headers:n}=r;o!==void 0&&q.assertOptions(o,{silentJSONParsing:R.transitional(R.boolean),forcedJSONParsing:R.transitional(R.boolean),clarifyTimeoutError:R.transitional(R.boolean)},!1),s!=null&&(_.isFunction(s)?r.paramsSerializer={serialize:s}:q.assertOptions(s,{encode:R.function,serialize:R.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),q.assertOptions(r,{baseUrl:R.spelling("baseURL"),withXsrfToken:R.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=n&&_.merge(n.common,n[r.method]);n&&_.forEach(["delete","get","head","post","put","patch","common"],f=>{delete n[f]}),r.headers=at.concat(i,n);let a=[],u=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(r)===!1||(u=u&&d.synchronous,a.unshift(d.fulfilled,d.rejected))});let l=[];this.interceptors.response.forEach(function(d){l.push(d.fulfilled,d.rejected)});let c,m=0,b;if(!u){let f=[B.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,l),b=f.length,c=Promise.resolve(r);m<b;)c=c.then(f[m++],f[m++]);return c}b=a.length;let E=r;for(m=0;m<b;){let f=a[m++],d=a[m++];try{E=f(E)}catch(k){d.call(this,k);break}}try{c=B.call(this,E)}catch(f){return Promise.reject(f)}for(m=0,b=l.length;m<b;)c=c.then(l[m++],l[m++]);return c}getUri(e){e=M(this.defaults,e);let r=it(e.baseURL,e.url,e.allowAbsoluteUrls);return st(r,e.params,e.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(e){N.prototype[e]=function(r,o){return this.request(M(o||{},{method:e,url:r,data:(o||{}).data}))}});_.forEach(["post","put","patch"],function(e){function r(o){return function(n,i,a){return this.request(M(a||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}N.prototype[e]=r(),N.prototype[e+"Form"]=r(!0)});var L=N;import Ce from"./lib/core/mergeConfig.mjs";import ft from"./lib/cancel/CanceledError.mjs";import lt from"./lib/cancel/CanceledError.mjs";var re=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(n){r=n});let o=this;this.promise.then(s=>{if(!o._listeners)return;let n=o._listeners.length;for(;n-- >0;)o._listeners[n](s);o._listeners=null}),this.promise.then=s=>{let n,i=new Promise(a=>{o.subscribe(a),n=a}).then(s);return i.cancel=function(){o.unsubscribe(n)},i},e(function(n,i,a){o.reason||(o.reason=new lt(n,i,a),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=o=>{e.abort(o)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(s){e=s}),cancel:e}}},Te=re;import pt from"./lib/helpers/toFormData.mjs";import mt from"./lib/core/AxiosError.mjs";function oe(t){return function(r){return t.apply(null,r)}}import ut from"./unsafe/utils.mjs";function ne(t){return ut.isObject(t)&&t.isAxiosError===!0}import dt from"./lib/core/AxiosHeaders.mjs";var se={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(se).forEach(([t,e])=>{se[e]=t});var Oe=se;function Ne(t){let e=new L(t),r=ct(L.prototype.request,e);return ie.extend(r,L.prototype,e,{allOwnKeys:!0}),ie.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return Ne(Ce(t,s))},r}var p=Ne(C);p.Axios=L;p.CanceledError=ft;p.CancelToken=Te;p.isCancel=g;p.VERSION=H;p.toFormData=pt;p.AxiosError=mt;p.Cancel=p.CanceledError;p.all=function(e){return Promise.all(e)};p.spread=oe;p.isAxiosError=ne;p.mergeConfig=Ce;p.AxiosHeaders=dt;p.formToJSON=t=>U(ie.isHTMLForm(t)?new FormData(t):t);p.getAdapter=I.getAdapter;p.HttpStatusCode=Oe;p.default=p;var Pe=p;var{Axios:$r,AxiosError:Xr,CanceledError:Gr,isCancel:Zr,CancelToken:Qr,VERSION:Yr,all:eo,Cancel:to,isAxiosError:ro,spread:oo,toFormData:no,AxiosHeaders:so,HttpStatusCode:io,formToJSON:ao,getAdapter:lo,mergeConfig:uo}=Pe;export{$r as Axios,Xr as AxiosError,so as AxiosHeaders,to as Cancel,Qr as CancelToken,Gr as CanceledError,io as HttpStatusCode,Yr as VERSION,eo as all,Pe as default,ao as formToJSON,lo as getAdapter,ro as isAxiosError,Zr as isCancel,uo as mergeConfig,oo as spread,no as toFormData};

import "https://deno.land/x/xhr@0.3.0/mod.ts";//# sourceMappingURL=axios.mjs.map