/* esm.sh - date-fns@4.1.0/format */
import{defaultLocale as q}from"./_lib/defaultLocale.mjs";import{getDefaultOptions as v}from"./_lib/defaultOptions.mjs";import{getDayOfYear as O}from"./getDayOfYear.mjs";import{getISOWeek as p}from"./getISOWeek.mjs";import{getISOWeekYear as M}from"./getISOWeekYear.mjs";import{getWeek as E}from"./getWeek.mjs";import{getWeekYear as k}from"./getWeekYear.mjs";import{addLeadingZeros as o}from"./_lib/addLeadingZeros.mjs";import{lightFormatters as u}from"./_lib/format/lightFormatters.mjs";var f={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},l={G:function(n,r,t){let e=n.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})}},y:function(n,r,t){if(r==="yo"){let e=n.getFullYear(),a=e>0?e:1-e;return t.ordinalNumber(a,{unit:"year"})}return u.y(n,r)},Y:function(n,r,t,e){let a=k(n,e),i=a>0?a:1-a;if(r==="YY"){let m=i%100;return o(m,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):o(i,r.length)},R:function(n,r){let t=M(n);return o(t,r.length)},u:function(n,r){let t=n.getFullYear();return o(t,r.length)},Q:function(n,r,t){let e=Math.ceil((n.getMonth()+1)/3);switch(r){case"Q":return String(e);case"QQ":return o(e,2);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})}},q:function(n,r,t){let e=Math.ceil((n.getMonth()+1)/3);switch(r){case"q":return String(e);case"qq":return o(e,2);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})}},M:function(n,r,t){let e=n.getMonth();switch(r){case"M":case"MM":return u.M(n,r);case"Mo":return t.ordinalNumber(e+1,{unit:"month"});case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})}},L:function(n,r,t){let e=n.getMonth();switch(r){case"L":return String(e+1);case"LL":return o(e+1,2);case"Lo":return t.ordinalNumber(e+1,{unit:"month"});case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})}},w:function(n,r,t,e){let a=E(n,e);return r==="wo"?t.ordinalNumber(a,{unit:"week"}):o(a,r.length)},I:function(n,r,t){let e=p(n);return r==="Io"?t.ordinalNumber(e,{unit:"week"}):o(e,r.length)},d:function(n,r,t){return r==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):u.d(n,r)},D:function(n,r,t){let e=O(n);return r==="Do"?t.ordinalNumber(e,{unit:"dayOfYear"}):o(e,r.length)},E:function(n,r,t){let e=n.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})}},e:function(n,r,t,e){let a=n.getDay(),i=(a-e.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return o(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,r,t,e){let a=n.getDay(),i=(a-e.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return o(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,r,t){let e=n.getDay(),a=e===0?7:e;switch(r){case"i":return String(a);case"ii":return o(a,r.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(e,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(e,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(e,{width:"short",context:"formatting"});case"iiii":default:return t.day(e,{width:"wide",context:"formatting"})}},a:function(n,r,t){let a=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,r,t){let e=n.getHours(),a;switch(e===12?a=f.noon:e===0?a=f.midnight:a=e/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,r,t){let e=n.getHours(),a;switch(e>=17?a=f.evening:e>=12?a=f.afternoon:e>=4?a=f.morning:a=f.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,r,t){if(r==="ho"){let e=n.getHours()%12;return e===0&&(e=12),t.ordinalNumber(e,{unit:"hour"})}return u.h(n,r)},H:function(n,r,t){return r==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):u.H(n,r)},K:function(n,r,t){let e=n.getHours()%12;return r==="Ko"?t.ordinalNumber(e,{unit:"hour"}):o(e,r.length)},k:function(n,r,t){let e=n.getHours();return e===0&&(e=24),r==="ko"?t.ordinalNumber(e,{unit:"hour"}):o(e,r.length)},m:function(n,r,t){return r==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):u.m(n,r)},s:function(n,r,t){return r==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):u.s(n,r)},S:function(n,r){return u.S(n,r)},X:function(n,r,t){let e=n.getTimezoneOffset();if(e===0)return"Z";switch(r){case"X":return b(e);case"XXXX":case"XX":return d(e);case"XXXXX":case"XXX":default:return d(e,":")}},x:function(n,r,t){let e=n.getTimezoneOffset();switch(r){case"x":return b(e);case"xxxx":case"xx":return d(e);case"xxxxx":case"xxx":default:return d(e,":")}},O:function(n,r,t){let e=n.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+x(e,":");case"OOOO":default:return"GMT"+d(e,":")}},z:function(n,r,t){let e=n.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+x(e,":");case"zzzz":default:return"GMT"+d(e,":")}},t:function(n,r,t){let e=Math.trunc(+n/1e3);return o(e,r.length)},T:function(n,r,t){return o(+n,r.length)}};function x(n,r=""){let t=n>0?"-":"+",e=Math.abs(n),a=Math.trunc(e/60),i=e%60;return i===0?t+String(a):t+String(a)+r+o(i,2)}function b(n,r){return n%60===0?(n>0?"-":"+")+o(Math.abs(n)/60,2):d(n,r)}function d(n,r=""){let t=n>0?"-":"+",e=Math.abs(n),a=o(Math.trunc(e/60),2),i=o(e%60,2);return t+a+r+i}import{longFormatters as D}from"./_lib/format/longFormatters.mjs";import{isProtectedDayOfYearToken as L,isProtectedWeekYearToken as T,warnOrThrowProtectedError as S}from"./_lib/protectedTokens.mjs";import{isValid as W}from"./isValid.mjs";import{toDate as Y}from"./toDate.mjs";var P=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N=/^'([^]*?)'?$/,Q=/''/g,B=/[a-zA-Z]/;function X(n,r,t){let e=v(),a=t?.locale??e.locale??q,i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,m=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,h=Y(n,t?.in);if(!W(h))throw new RangeError("Invalid time value");let g=r.match(G).map(s=>{let c=s[0];if(c==="p"||c==="P"){let w=D[c];return w(s,a.formatLong)}return s}).join("").match(P).map(s=>{if(s==="''")return{isToken:!1,value:"'"};let c=s[0];if(c==="'")return{isToken:!1,value:H(s)};if(l[c])return{isToken:!0,value:s};if(c.match(B))throw new RangeError("Format string contains an unescaped latin alphabet character `"+c+"`");return{isToken:!1,value:s}});a.localize.preprocessor&&(g=a.localize.preprocessor(h,g));let y={firstWeekContainsDate:i,weekStartsOn:m,locale:a};return g.map(s=>{if(!s.isToken)return s.value;let c=s.value;(!t?.useAdditionalWeekYearTokens&&T(c)||!t?.useAdditionalDayOfYearTokens&&L(c))&&S(c,r,String(n));let w=l[c[0]];return w(h,c,a.localize,y)}).join("")}function H(n){let r=n.match(N);return r?r[1].replace(Q,"'"):n}var et=X;export{et as default,X as format,X as formatDate,l as formatters,D as longFormatters};
//# sourceMappingURL=format.mjs.map