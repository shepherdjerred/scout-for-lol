---
import { Icon } from 'astro-icon/components';
import { badgeColors, type ColorVariant } from '../lib/colors';

interface Props {
  text: string;
  color?: ColorVariant;
  icon?: string; // astro-icon name
  iconHtml?: string; // Raw HTML for custom icons
  size?: 'sm' | 'md';
  rounded?: 'pill' | 'lg' | 'md';
}

const {
  text,
  color = 'indigo',
  icon,
  iconHtml,
  size = 'md',
  rounded = 'pill',
} = Astro.props;

const sizeClasses = {
  sm: 'px-2 py-1 text-xs',
  md: 'px-3 py-1 text-xs',
};

const roundedClasses = {
  pill: 'rounded-full',
  lg: 'rounded-lg',
  md: 'rounded-md',
};
---

<span class={`inline-flex items-center ${sizeClasses[size]} ${roundedClasses[rounded]} font-semibold ${badgeColors[color]}`}>
  {icon && <Icon name={icon} class="h-4 w-4 mr-1" />}
  {iconHtml && <div set:html={iconHtml} class="h-4 w-4 mr-1" />}
  {text}
</span>
