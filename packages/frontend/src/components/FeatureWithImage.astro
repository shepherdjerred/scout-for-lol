---
interface Props {
  title: string;
  description: string;
  imageSrc: string;
  imageAlt: string;
  badge?: {
    text: string;
    icon?: string;
    color?: string;
  };
  checklist?: string[];
  imagePosition?: 'left' | 'right';
}

const {
  title,
  description,
  imageSrc,
  imageAlt,
  badge,
  checklist = [],
  imagePosition = 'left'
} = Astro.props;

const badgeColor = badge?.color || 'purple';
const badgeColorClasses = {
  purple: 'bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400',
  blue: 'bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400',
  yellow: 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400',
  green: 'bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400',
};
---

<div class="grid grid-cols-1 gap-8 lg:grid-cols-2 lg:gap-12 items-center">
  <div class={imagePosition === 'right' ? 'order-2 lg:order-1' : 'order-2 lg:order-2'}>
    <img
      src={imageSrc}
      alt={imageAlt}
      class="w-full rounded-xl shadow-xl ring-1 ring-gray-400/10 dark:ring-gray-600"
      loading="lazy"
    />
  </div>
  <div class={imagePosition === 'right' ? 'order-1 lg:order-2' : 'order-1 lg:order-1'}>
    {badge && (
      <div class={`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${badgeColorClasses[badgeColor]} mb-4`}>
        {badge.icon && (
          <div set:html={badge.icon} class="h-4 w-4 mr-1" />
        )}
        {badge.text}
      </div>
    )}
    <h3 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">{title}</h3>
    <p class="text-lg text-gray-600 dark:text-gray-300 mb-4">
      {description}
    </p>
    {checklist.length > 0 && (
      <ul class="space-y-2 text-gray-600 dark:text-gray-300">
        {checklist.map((item) => (
          <li class="flex items-start">
            <svg
              class="h-6 w-6 text-indigo-600 dark:text-indigo-400 mr-2 shrink-0"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
              ></path>
            </svg>
            <span>{item}</span>
          </li>
        ))}
      </ul>
    )}
  </div>
</div>
