import { z } from "zod";
import { PositionSchema, RoleSchema, LaneSchema } from "./enums.ts";
import { RawChallengesSchema } from "./raw-challenges.schema.ts";
import { RawMissionsSchema } from "./raw-missions.schema.ts";
import { RawPerksSchema } from "./raw-perks.schema.ts";

/**
 * Raw Participant - Contains all data for a single participant in a match from Riot API
 * Many fields are optional as they may not be present in all game modes (e.g., Arena vs Classic)
 */
export const RawParticipantSchema = z
  .object({
    assists: z.number(),
    baitPings: z.number().optional(),
    baronKills: z.number(),
    basicPings: z.number(),
    bountyLevel: z.number().optional(),
    challenges: RawChallengesSchema.optional(),
    champExperience: z.number(),
    champLevel: z.number(),
    championId: z.number(),
    championName: z.string(),
    championTransform: z.number(),
    allInPings: z.number(),
    assistMePings: z.number(),
    commandPings: z.number(),
    retreatPings: z.number().optional(),
    visionClearedPings: z.number(),
    consumablesPurchased: z.number(),
    damageDealtToBuildings: z.number(),
    damageDealtToEpicMonsters: z.number().optional(),
    damageDealtToObjectives: z.number(),
    damageDealtToTurrets: z.number(),
    damageSelfMitigated: z.number(),
    dangerPings: z.number(),
    deaths: z.number(),
    detectorWardsPlaced: z.number(),
    doubleKills: z.number(),
    dragonKills: z.number(),
    eligibleForProgression: z.boolean(),
    enemyMissingPings: z.number(),
    enemyVisionPings: z.number(),
    firstBloodAssist: z.boolean(),
    firstBloodKill: z.boolean(),
    firstTowerAssist: z.boolean(),
    firstTowerKill: z.boolean(),
    gameEndedInEarlySurrender: z.boolean(),
    gameEndedInSurrender: z.boolean(),
    getBackPings: z.number(),
    goldEarned: z.number(),
    goldSpent: z.number(),
    holdPings: z.number(),
    individualPosition: PositionSchema,
    inhibitorKills: z.number(),
    inhibitorTakedowns: z.number(),
    inhibitorsLost: z.number(),
    item0: z.number(),
    item1: z.number(),
    item2: z.number(),
    item3: z.number(),
    item4: z.number(),
    item5: z.number(),
    item6: z.number(),
    roleBoundItem: z.number().optional(),
    itemsPurchased: z.number(),
    killingSprees: z.number(),
    kills: z.number(),
    lane: LaneSchema.optional(),
    largestCriticalStrike: z.number(),
    largestKillingSpree: z.number(),
    largestMultiKill: z.number(),
    longestTimeSpentLiving: z.number(),
    magicDamageDealt: z.number(),
    magicDamageDealtToChampions: z.number(),
    magicDamageTaken: z.number(),
    missions: RawMissionsSchema,
    needVisionPings: z.number(),
    neutralMinionsKilled: z.number(),
    nexusKills: z.number(),
    nexusLost: z.number(),
    nexusTakedowns: z.number(),
    objectivesStolen: z.number(),
    objectivesStolenAssists: z.number(),
    onMyWayPings: z.number(),
    participantId: z.number(),
    pentaKills: z.number(),
    perks: RawPerksSchema,
    physicalDamageDealt: z.number(),
    physicalDamageDealtToChampions: z.number(),
    physicalDamageTaken: z.number(),
    profileIcon: z.number(),
    pushPings: z.number(),
    puuid: z.string(),
    quadraKills: z.number(),
    riotIdName: z.string().optional(),
    riotIdGameName: z.string().optional(),
    riotIdTagline: z.string(),
    role: RoleSchema.optional(),
    sightWardsBoughtInGame: z.number(),
    spell1Casts: z.number(),
    spell2Casts: z.number(),
    spell3Casts: z.number(),
    spell4Casts: z.number(),
    summoner1Casts: z.number(),
    summoner1Id: z.number(),
    summoner2Casts: z.number(),
    summoner2Id: z.number(),
    summonerId: z.string(),
    summonerLevel: z.number(),
    summonerName: z.string(),
    teamEarlySurrendered: z.boolean(),
    teamId: z.number(),
    teamPosition: PositionSchema,
    timeCCingOthers: z.number(),
    timePlayed: z.number(),
    totalAllyJungleMinionsKilled: z.number(),
    totalDamageDealt: z.number(),
    totalDamageDealtToChampions: z.number(),
    totalDamageShieldedOnTeammates: z.number(),
    totalDamageTaken: z.number(),
    totalEnemyJungleMinionsKilled: z.number(),
    totalHeal: z.number(),
    totalHealsOnTeammates: z.number(),
    totalMinionsKilled: z.number(),
    totalTimeCCDealt: z.number(),
    totalTimeSpentDead: z.number(),
    totalUnitsHealed: z.number(),
    tripleKills: z.number(),
    trueDamageDealt: z.number(),
    trueDamageDealtToChampions: z.number(),
    trueDamageTaken: z.number(),
    turretKills: z.number(),
    turretTakedowns: z.number(),
    turretsLost: z.number(),
    unrealKills: z.number(),
    visionScore: z.number(),
    visionWardsBoughtInGame: z.number(),
    wardsKilled: z.number(),
    wardsPlaced: z.number(),
    win: z.boolean(),
    // Arena only values (optional, only present in Arena games)
    PlayerScore0: z.number().optional(),
    PlayerScore1: z.number().optional(),
    PlayerScore2: z.number().optional(),
    PlayerScore3: z.number().optional(),
    PlayerScore4: z.number().optional(),
    PlayerScore5: z.number().optional(),
    PlayerScore6: z.number().optional(),
    PlayerScore7: z.number().optional(),
    PlayerScore8: z.number().optional(),
    PlayerScore9: z.number().optional(),
    PlayerScore10: z.number().optional(),
    PlayerScore11: z.number().optional(),
    // Lowercase versions (actual API uses these)
    playerScore0: z.number().optional(),
    playerScore1: z.number().optional(),
    playerScore2: z.number().optional(),
    playerScore3: z.number().optional(),
    playerScore4: z.number().optional(),
    playerScore5: z.number().optional(),
    playerScore6: z.number().optional(),
    playerScore7: z.number().optional(),
    playerScore8: z.number().optional(),
    playerScore9: z.number().optional(),
    playerScore10: z.number().optional(),
    playerScore11: z.number().optional(),
    playerAugment1: z.number().optional(),
    playerAugment2: z.number().optional(),
    playerAugment3: z.number().optional(),
    playerAugment4: z.number().optional(),
    playerAugment5: z.number().optional(),
    playerAugment6: z.number().optional(),
    playerSubteamId: z.number().optional(),
    placement: z.number().optional(),
    subteamPlacement: z.number().optional(),
  })
  .strict();

export type RawParticipant = z.infer<typeof RawParticipantSchema>;
